<scriptedContentFragments>
	<scriptedContentFragment name="${resource:CF_UserProfileGroup}" version="10.1.8.10498" description="${resource:CF_UserProfileGroupDesc}" instanceIdentifier="945b2ef63bf249da8102a6141fc39ba4" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="user-profile-group-content-fragment">
		<contentScript><![CDATA[
#set($readOnly = $core_v2_widget.GetBoolValue('forceReadOnly', false))
#set($user = false)
#if($core_v2_widget.GetStringValue('user', 'context') == 'context')
	#set($user = $core_v2_user.Current)
#else
	#set($user = $core_v2_user.Accessing)
#end
#if (!$user)
	$core_v2_widget.Hide()
#end

#if (!$core_v2_editableGroup.IsEditable('User') || $user.Id != $core_v2_user.Accessing.Id || !$core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	#set($readOnly = true)
#end
#set($data = $core_v2_page.ParseQueryString(''))
#foreach($profileField in $user.ProfileFields)
	$data.Add($profileField.Label, $core_v2_encoding.HtmlDecode($profileField.Value))
#end

#store($readonlyPropertyHeaderFormat)
    <li class="attribute-item">
        <span class="attribute-name">{PropertyName}$core_v2_language.GetResource('CF_UserProfileGroup_AttributeNameSuffix')</span>
        <span class="attribute-value">
#end
#set($readonlyPropertyFooterFormat = '</span></li>')

#set($editablePropertyHeaderFormat = '<li class="field-item {PropertyDataType}-type"><label class="field-item-name">{PropertyName}</label><span class="field-item-input">')
#set($editablePropertyFooterFormat = '</span></li>')

#set($mode = $core_v2_widget.GetStringValue('mode', 'MultipleProfileGroups'))
#if ($mode == 'MultipleProfileFields')
    $core_v2_widget.ExecuteFile('multiple-fields.vm')
#else
    $core_v2_widget.ExecuteFile('multiple-groups.vm')
#end
			]]></contentScript>
		<headerScript><![CDATA[$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:CF_UserProfileGroup}'))]]></headerScript>
		<configuration><![CDATA[<propertyGroup id="options" resourceName="Options">
    <property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:CF_UserProfileGroup}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Platform" />
    <property id="mode" resourceName="mode" dataType="string" defaultValue="MultipleProfileGroups" controlType="Telligent.Evolution.Controls.PropertyVisibilityValueSelectionControl, Telligent.Evolution.Platform">
		<propertyValue value="MultipleProfileGroups" resourceName="mode_MultipleProfileGroups" propertiesToShow="profileFieldGroupIds" propertiesToHide="profileFieldIds" />
		<propertyValue value="MultipleProfileFields" resourceName="mode_MultipleProfileFields" propertiesToShow="profileFieldIds" propertiesToHide="profileFieldGroupIds" />
	</property>
	<property id="profileFieldGroupIds" resourceName="CF_UserProfileGroup_ProfileFieldGroups" descriptionResourceName="CF_UserProfileGroup_ProfileFieldGroupsDesc" dataType="custom" controlType="Telligent.Evolution.Controls.UserProfileGroupSortableListControl, Telligent.Evolution.Platform" key="profileFieldGroupId" enableByDefault="false" />
	<property id="profileFieldIds" resourceName="CF_UserProfileGroup_ProfileFields" descriptionResourceName="CF_UserProfileGroup_ProfileFieldsDesc" dataType="custom" controlType="Telligent.Evolution.Controls.UserProfileFieldSortableListControl, Telligent.Evolution.Platform" key="profileFieldId" enableByDefault="false" />
	<property id="user" resourceName="CF_UserProfileGroup_ShowProfileInformationFor" descriptionResourceName="CF_UserProfileGroup_ShowProfileInformationForDesc" dataType="string" defaultValue="context">
		<propertyValue value="context" resourceName="CF_UserProfileGroup_ShowProfileInformationFor_Contextual" />
		<propertyValue value="accessing" resourceName="CF_UserProfileGroup_ShowProfileInformationFor_Accessing" />
	</property>
	<property id="forceReadOnly" resourceName="CF_UserProfileGroup_ReadOnly" descriptionResourceName="CF_UserProfileGroup_ReadOnlyDesc" dataType="Bool" defaultValue="false" />
</propertyGroup>
		]]></configuration>
		<languageResources><language key="en-us">
  <resource name="CF_Title">Widget Title</resource>
  <resource name="CF_UserProfileGroup">User Profile Fields</resource>
  <resource name="CF_UserProfileGroup_AttributeNameSuffix">:</resource>
  <resource name="CF_UserProfileGroup_ProfileFieldGroup">Profile Field Community</resource>
  <resource name="CF_UserProfileGroup_ProfileFieldGroups">Profile Field Groups</resource>
  <resource name="CF_UserProfileGroup_ProfileFieldGroupsDesc">Select and order the profile groups that should be shown together.</resource>
  <resource name="CF_UserProfileGroup_ProfileFields">Profile Fields</resource>
  <resource name="CF_UserProfileGroup_ProfileFieldsDesc">Select one or more profile fields.</resource>
  <resource name="CF_UserProfileGroup_ReadOnly">Read Only</resource>
  <resource name="CF_UserProfileGroup_ReadOnlyDesc">If checked, field data will not be editable. If unchecked, the user whose data is shown will be able to change it.</resource>
  <resource name="CF_UserProfileGroup_ShowProfileInformationFor">Show Profile Information For</resource>
  <resource name="CF_UserProfileGroup_ShowProfileInformationFor_Accessing">Accessing User</resource>
  <resource name="CF_UserProfileGroup_ShowProfileInformationFor_Contextual">Contextual User</resource>
  <resource name="CF_UserProfileGroup_ShowProfileInformationForDesc">Select which user to display profile data for.</resource>
  <resource name="CF_UserProfileGroupDesc">Displays a community of user profile fields.</resource>
  <resource name="mode">View</resource>
  <resource name="mode_MultipleProfileFields">Selected profile fields</resource>
  <resource name="mode_MultipleProfileGroups">Selected profile field groups</resource>
  <resource name="Options">Options</resource>
</language>
<language key="zh-cn">
  <resource name="CF_UserProfileGroup">用户个人资料字段</resource>
  <resource name="CF_UserProfileGroup_AttributeNameSuffix">:</resource>
  <resource name="CF_UserProfileGroup_ProfileFieldGroup">个人资料字段社区</resource>
  <resource name="CF_UserProfileGroup_ProfileFieldGroupDesc">选择要显示的字段组。</resource>
  <resource name="CF_UserProfileGroup_ReadOnly">只读</resource>
  <resource name="CF_UserProfileGroup_ReadOnlyDesc">如果选中，字段数据将不可编辑。如果取消选中，显示数据所属的用户将能够更改数据。</resource>
  <resource name="CF_UserProfileGroup_ShowProfileInformationFor">显示以下各项的个人资料信息</resource>
  <resource name="CF_UserProfileGroup_ShowProfileInformationFor_Accessing">访问用户</resource>
  <resource name="CF_UserProfileGroup_ShowProfileInformationFor_Contextual">上下文用户</resource>
  <resource name="CF_UserProfileGroup_ShowProfileInformationForDesc">选择要显示哪个用户的个人资料数据。</resource>
  <resource name="CF_UserProfileGroupDesc">显示用户个人资料字段的社区。</resource>
  <resource name="Options">选项</resource>
</language>
<language key="zh-tw">
  <resource name="CF_UserProfileGroup">使用者個人檔案欄位</resource>
  <resource name="CF_UserProfileGroup_AttributeNameSuffix">:</resource>
  <resource name="CF_UserProfileGroup_ProfileFieldGroup">個人檔案欄位社群</resource>
  <resource name="CF_UserProfileGroup_ProfileFieldGroupDesc">選取要顯示的欄位群組。</resource>
  <resource name="CF_UserProfileGroup_ReadOnly">唯讀</resource>
  <resource name="CF_UserProfileGroup_ReadOnlyDesc">勾選後，欄位資料將無法編輯。取消勾選後，顯示其資料的使用者可以進行變更。</resource>
  <resource name="CF_UserProfileGroup_ShowProfileInformationFor">顯示個人檔案資訊</resource>
  <resource name="CF_UserProfileGroup_ShowProfileInformationFor_Accessing">存取中使用者</resource>
  <resource name="CF_UserProfileGroup_ShowProfileInformationFor_Contextual">內容相關使用者</resource>
  <resource name="CF_UserProfileGroup_ShowProfileInformationForDesc">選取要顯示個人檔案資料的使用者。</resource>
  <resource name="CF_UserProfileGroupDesc">顯示使用者個人檔案欄位的社群。</resource>
  <resource name="Options">選項</resource>
</language></languageResources>
		<additionalCssScript><![CDATA[#if($core_v2_widget.GetStringValue('user', 'context') == 'context')
	#set($user = $core_v2_user.Current)
#else
	#set($user = $core_v2_user.Accessing)
#end
#if ($core_v2_editableGroup.IsEditable('User') && !$core_v2_widget.GetBoolValue('forceReadOnly', false) && $user.Id == $core_v2_user.Accessing.Id && $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	editable
#end
#set($mode = $core_v2_widget.GetStringValue('mode', 'SingleProfileFieldGroup'))
#if ($mode == 'MultipleProfileGroups')
    multiple-groups
#elseif ($mode == 'MultipleProfileFields')
    multiple-fields
#else
    single-group
#end]]></additionalCssScript>
		<files>
			<file name="multiple-fields.vm">I3NldCgkcHJvZmlsZUZpZWxkSWRzID0gZmFsc2UpDQojc2V0KCRwcm9maWxlRmllbGRJZHMgPSAkY29yZV92Ml9wYWdlLlBhcnNlUXVlcnlTdHJpbmcoJGNvcmVfdjJfd2lkZ2V0LkdldEN1c3RvbVZhbHVlKCdwcm9maWxlRmllbGRJZHMnLCAnJykpLlZhbHVlcygncHJvZmlsZUZpZWxkSWQnKSkNCiNpZiAoISRwcm9maWxlRmllbGRJZHMgfHwgJHByb2ZpbGVGaWVsZElkcy5Db3VudCA9PSAwKQ0KICAgICRjb3JlX3YyX3dpZGdldC5IaWRlKCkNCiNlbmQNCg0KI3NldCgkaW5kZXggPSAwKQ0KI3NldCgkeG1sID0gJycpDQojc2V0KCRvcmlnaW5hbFZhbHVlcyA9ICcnKQ0KI3NldCgkZmlyc3QgPSB0cnVlKQ0KI2ZvcmVhY2goJHByb2ZpbGVGaWVsZElkIGluICRwcm9maWxlRmllbGRJZHMpDQogICAgI3NldCgkZmllbGQgPSBmYWxzZSkNCiAgICAjc2V0KCRmaWVsZCA9ICRjb3JlX3YyX3VzZXJQcm9maWxlRmllbGQuR2V0KCRwcm9maWxlRmllbGRJZCkpDQogICAgI3NldCgkZmllbGRYbWwgPSBmYWxzZSkNCiAgICAjc2V0KCRmaWVsZFhtbCA9ICRjb3JlX3YyX3VzZXJQcm9maWxlRmllbGQuRHluYW1pY0Zvcm1YbWwoJHByb2ZpbGVGaWVsZElkLCAiJXtPcmRlck51bWJlciA9ICRpbmRleCwgUmVhZE9ubHkgPSAkcmVhZE9ubHl9IikpDQogICAgI3NldCgkaW5kZXggPSAkaW5kZXggKyAxKQ0KICAgICNpZiAoJGZpZWxkWG1sICYmICRmaWVsZCkNCiAgICAgICAgI3NldCgkeG1sID0gIiR4bWwkZmllbGRYbWwiKQ0KICAgICAgICAjc2V0KCR2YWx1ZSA9IGZhbHNlKQ0KICAgICAgICAjc2V0KCR2YWx1ZSA9ICRkYXRhLlZhbHVlKCRmaWVsZC5OYW1lKSkNCiAgICAgICAgI2lmICgkdmFsdWUpDQogICAgICAgICAgICAjc3RvcmUoJG9yaWdpbmFsVmFsdWVzKQ0KICAgICAgICAgICAgICAgICRvcmlnaW5hbFZhbHVlcw0KICAgICAgICAgICAgICAgICNpZiAoISRmaXJzdCkNCiAgICAgICAgICAgICAgICAgICAgLA0KICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkZmllbGQuTmFtZSkiOiBqUXVlcnkudGVsbGlnZW50LmV2b2x1dGlvbi5odG1sLmRlY29kZSgiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkdmFsdWUpIikNCiAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICNzZXQoJGZpcnN0ID0gZmFsc2UpDQogICAgICAgICNlbmQNCiAgICAjZW5kDQojZW5kDQoNCiNpZiAoJHhtbCA9PSAnJykNCiAgICAkY29yZV92Ml93aWRnZXQuSGlkZSgpDQojZW5kDQojc3RvcmUoJHhtbCkNCiAgICA8cHJvcGVydHlHcm91cCBpZD0iZmllbGRzIiBuYW1lPSJGaWVsZHMiPg0KICAgICAgICAkeG1sDQogICAgPC9wcm9wZXJ0eUdyb3VwPj4NCiNlbmQNCg0KI3NldCgkZm9ybUlkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdmb3JtJykpDQojaWYgKCRyZWFkT25seSkNCgk8ZGl2IGNsYXNzPSJjb250ZW50IGZ1bGwiPg0KCQk8ZGl2IGNsYXNzPSJhdHRyaWJ1dGVzIj4NCgkJCTx1bCBjbGFzcz0iYXR0cmlidXRlLWxpc3QiPg0KCQkJCSNzZXQoJGZvcm0gPSBmYWxzZSkNCgkJCQkjc2V0KCRmb3JtID0gJGNvcmVfdjJfZHluYW1pY0Zvcm0uUmVuZGVyRm9ybSgkZm9ybUlkLCAkeG1sLCAkZGF0YSwgIiV7R3JvdXBGb290ZXJIdG1sRm9ybWF0PScnLEdyb3VwSGVhZGVySHRtbEZvcm1hdD0nJyxQcm9wZXJ0eUZvb3Rlckh0bWxGb3JtYXQ9JHJlYWRvbmx5UHJvcGVydHlGb290ZXJGb3JtYXQsUHJvcGVydHlIZWFkZXJIdG1sRm9ybWF0PSRyZWFkb25seVByb3BlcnR5SGVhZGVyRm9ybWF0LEhpZGVQcm9wZXJ0aWVzV2l0aG91dFZhbHVlcz0ndHJ1ZSd9IikpDQoJCQkJI2lmICghJGZvcm0gfHwgJGZvcm0uTGVuZ3RoID09IDApDQoJCQkJCSRjb3JlX3YyX3dpZGdldC5IaWRlKCkNCgkJCQkjZWxzZQ0KCQkJCQkkZm9ybQ0KCQkJCSNlbmQNCgkJCTwvdWw+DQoJCTwvZGl2Pg0KCTwvZGl2Pg0KI2Vsc2UNCgk8ZmllbGRzZXQgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCQk8dWwgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCQkJI3NldCgkZm9ybSA9IGZhbHNlKQ0KCQkJI3NldCgkZm9ybSA9ICRjb3JlX3YyX2R5bmFtaWNGb3JtLlJlbmRlckZvcm0oJGZvcm1JZCwgJHhtbCwgJGRhdGEsICIle0dyb3VwRm9vdGVySHRtbEZvcm1hdD0nJyxHcm91cEhlYWRlckh0bWxGb3JtYXQ9JycsUHJvcGVydHlGb290ZXJIdG1sRm9ybWF0PSRlZGl0YWJsZVByb3BlcnR5Rm9vdGVyRm9ybWF0LFByb3BlcnR5SGVhZGVySHRtbEZvcm1hdD0kZWRpdGFibGVQcm9wZXJ0eUhlYWRlckZvcm1hdH0iKSkNCgkJCSNpZiAoISRmb3JtIHx8ICRmb3JtLkxlbmd0aCA9PSAwKQ0KCQkJCSRjb3JlX3YyX3dpZGdldC5IaWRlKCkNCgkJCSNlbHNlDQoJCQkJJGZvcm0NCgkJCSNlbmQNCgkJPC91bD4NCgk8L2ZpZWxkc2V0Pg0KDQoJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCd1aS52bScpDQojZW5k</file>
			<file name="multiple-groups.vm">I3NldCgkcHJvZmlsZUZpZWxkR3JvdXBJZHMgPSBmYWxzZSkNCiNzZXQoJHByb2ZpbGVGaWVsZEdyb3VwSWRzID0gJGNvcmVfdjJfcGFnZS5QYXJzZVF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3dpZGdldC5HZXRDdXN0b21WYWx1ZSgncHJvZmlsZUZpZWxkR3JvdXBJZHMnLCAnJykpLlZhbHVlcygncHJvZmlsZUZpZWxkR3JvdXBJZCcpKQ0KI2lmICghJHByb2ZpbGVGaWVsZEdyb3VwSWRzIHx8ICRwcm9maWxlRmllbGRHcm91cElkcy5Db3VudCA9PSAwKQ0KICAgICRjb3JlX3YyX3dpZGdldC5IaWRlKCkNCiNlbmQNCg0KI3NldCgkZ3JvdXBMaXN0SHRtbCA9ICcnKQ0KI3NldCgkZ3JvdXBDb250ZW50SHRtbCA9ICcnKQ0KI3NldCgkZ3JvdXBzU2hvd24gPSAwKQ0KI3NldCgkc2luZ2xlR3JvdXBUaXRsZSA9ICcnKQ0KI2ZvcmVhY2goJHByb2ZpbGVGaWVsZEdyb3VwSWQgaW4gJHByb2ZpbGVGaWVsZEdyb3VwSWRzKQ0KICAgICNzZXQgKCRwcm9maWxlRmllbGRHcm91cCA9IGZhbHNlKQ0KICAgICNzZXQgKCRwcm9maWxlRmllbGRHcm91cCA9ICRjb3JlX3YyX3VzZXJQcm9maWxlRmllbGRHcm91cC5HZXQoJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkcHJvZmlsZUZpZWxkR3JvdXBJZCkpKQ0KICAgICNzZXQoJGdyb3VwWG1sID0gZmFsc2UpDQogICAgI3NldCgkZ3JvdXBYbWwgPSAkY29yZV92Ml91c2VyUHJvZmlsZUZpZWxkR3JvdXAuRHluYW1pY0Zvcm1YbWwoJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkcHJvZmlsZUZpZWxkR3JvdXBJZCksICIle1JlYWRPbmx5ID0gJHJlYWRPbmx5fSIpKQ0KICAgICNpZiAoJGdyb3VwWG1sICYmICRwcm9maWxlRmllbGRHcm91cCkNCiAgICAgICAgI3NldCgkZm9ybUlkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCRwcm9maWxlRmllbGRHcm91cElkKSkNCiAgICAgICAgI2lmICgkcmVhZE9ubHkpDQoJCQkjc2V0KCRmb3JtID0gZmFsc2UpDQoJCQkjc2V0KCRmb3JtID0gJGNvcmVfdjJfZHluYW1pY0Zvcm0uUmVuZGVyRm9ybSgkZm9ybUlkLCAkZ3JvdXBYbWwsICRkYXRhLCAiJXtHcm91cEZvb3Rlckh0bWxGb3JtYXQ9JycsR3JvdXBIZWFkZXJIdG1sRm9ybWF0PScnLFByb3BlcnR5Rm9vdGVySHRtbEZvcm1hdD0kcmVhZG9ubHlQcm9wZXJ0eUZvb3RlckZvcm1hdCxQcm9wZXJ0eUhlYWRlckh0bWxGb3JtYXQ9JHJlYWRvbmx5UHJvcGVydHlIZWFkZXJGb3JtYXQsSGlkZVByb3BlcnRpZXNXaXRob3V0VmFsdWVzPSd0cnVlJ30iKSkNCgkJCSNpZiAoJGZvcm0gJiYgJGZvcm0uTGVuZ3RoID4gMCkNCgkJCSAgICAjc2V0KCRncm91cHNTaG93biA9ICRncm91cHNTaG93biArIDEpDQoJCQkgICAgI3N0b3JlKCRodG1sKQ0KICAgIAkJCSAgICA8ZGl2IGNsYXNzPSJjb250ZW50IGZ1bGwiIGRhdGEtY29udGVudD0iJHByb2ZpbGVGaWVsZEdyb3VwLklkIj4NCiAgICAJICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImF0dHJpYnV0ZXMiPg0KICAgIAkJICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0iYXR0cmlidXRlLWxpc3QiPg0KICAgIAkJCQkgICAgICAgICAgICAkZm9ybQ0KICAgIAkJCSAgICAgICAgICAgIDwvdWw+DQogICAgICAgICAgICAgICAgCQk8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgICNzZXQoJHNpbmdsZUdyb3VwVGl0bGUgPSAkcHJvZmlsZUZpZWxkR3JvdXAuVGl0bGUpDQogICAgICAgICAgICAgICAgI3NldCgkZ3JvdXBDb250ZW50SHRtbCA9ICIkZ3JvdXBDb250ZW50SHRtbCRodG1sIikNCiAgICAgICAgICAgICAgICAjc3RvcmUoJGh0bWwpDQogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0idGFiIj48YSBocmVmPSIjIiBkYXRhLWNvbnRlbnQ9IiRwcm9maWxlRmllbGRHcm91cC5JZCI+JHByb2ZpbGVGaWVsZEdyb3VwLlRpdGxlPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgICNzZXQoJGdyb3VwTGlzdEh0bWwgPSAiJGdyb3VwTGlzdEh0bWwkaHRtbCIpDQoJCQkjZW5kDQogICAgICAgICNlbHNlDQoJCQkjc2V0KCRmb3JtID0gZmFsc2UpDQoJCQkjc2V0KCRmb3JtID0gJGNvcmVfdjJfZHluYW1pY0Zvcm0uUmVuZGVyRm9ybSgkZm9ybUlkLCAkZ3JvdXBYbWwsICRkYXRhLCAiJXtHcm91cEZvb3Rlckh0bWxGb3JtYXQ9JycsR3JvdXBIZWFkZXJIdG1sRm9ybWF0PScnLFByb3BlcnR5Rm9vdGVySHRtbEZvcm1hdD0kZWRpdGFibGVQcm9wZXJ0eUZvb3RlckZvcm1hdCxQcm9wZXJ0eUhlYWRlckh0bWxGb3JtYXQ9JGVkaXRhYmxlUHJvcGVydHlIZWFkZXJGb3JtYXR9IikpDQoJCQkjaWYgKCRmb3JtICYmICRmb3JtLkxlbmd0aCA+IDApDQoJCQkgICAgI3NldCgkZ3JvdXBzU2hvd24gPSAkZ3JvdXBzU2hvd24gKyAxKQ0KCQkJICAgICNzdG9yZSgkaHRtbCkNCiAgICAJCQkgICAgPGZpZWxkc2V0IGNsYXNzPSJmaWVsZC1saXN0IiBkYXRhLWNvbnRlbnQ9IiRwcm9maWxlRmllbGRHcm91cC5JZCI+DQogICAgCQkgICAgICAgICAgICA8dWwgY2xhc3M9ImZpZWxkLWxpc3QiPg0KICAgIAkJCQkgICAgICAgICRmb3JtDQogICAgCQkJCSAgICA8L3VsPg0KICAgIAkgICAgICAgICAgICA8L2ZpZWxkc2V0Pg0KICAgIA0KICAgICAgICAgICAgICAgICAgICAjc2V0KCRvcmlnaW5hbFZhbHVlcyA9ICcnKQ0KICAgICAgICAgICAgICAgICAgICAjc2V0KCRmaXJzdCA9IHRydWUpDQogICAgICAgICAgICAgICAgICAgICNmb3JlYWNoKCRmaWVsZCBpbiAkY29yZV92Ml91c2VyUHJvZmlsZUZpZWxkLkxpc3QoIiV7VXNlclByb2ZpbGVGaWVsZEdyb3VwSWQgPSAkcHJvZmlsZUZpZWxkR3JvdXAuSWR9IikpDQogICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCRmaWVsZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjc2V0KCR2YWx1ZSA9IGZhbHNlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNzZXQoJHZhbHVlID0gJGRhdGEuVmFsdWUoJGZpZWxkLk5hbWUpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoJHZhbHVlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjc3RvcmUoJG9yaWdpbmFsVmFsdWVzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG9yaWdpbmFsVmFsdWVzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCEkZmlyc3QpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGZpZWxkLk5hbWUpIjogalF1ZXJ5LnRlbGxpZ2VudC5ldm9sdXRpb24uaHRtbC5kZWNvZGUoIiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHZhbHVlKSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI3NldCgkZmlyc3QgPSBmYWxzZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAJDQogICAgICAgICAgICAgICAgCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgndWkudm0nKQ0KICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAjc2V0KCRzaW5nbGVHcm91cFRpdGxlID0gJHByb2ZpbGVGaWVsZEdyb3VwLlRpdGxlKQ0KICAgICAgICAgICAgICAgICNzZXQoJGdyb3VwQ29udGVudEh0bWwgPSAiJGdyb3VwQ29udGVudEh0bWwkaHRtbCIpDQogICAgICAgICAgICAgICAgI3N0b3JlKCRodG1sKQ0KICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9InRhYiI+PGEgaHJlZj0iIyIgZGF0YS1jb250ZW50PSIkcHJvZmlsZUZpZWxkR3JvdXAuSWQiPiRwcm9maWxlRmllbGRHcm91cC5UaXRsZTwvYT48L2xpPg0KICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAjc2V0KCRncm91cExpc3RIdG1sID0gIiRncm91cExpc3RIdG1sJGh0bWwiKQ0KICAgICAgICAgICAgI2VuZA0KICAgICAgICAjZW5kDQogICAgI2VuZA0KI2VuZA0KDQojaWYgKCRncm91cHNTaG93biA9PSAwKQ0KICAgICRjb3JlX3YyX3dpZGdldC5IaWRlKCkNCiNlbHNlaWYgKCRncm91cHNTaG93biA9PSAxKQ0KICAgIDxoMyBjbGFzcz0ibmFtZSI+JHNpbmdsZUdyb3VwVGl0bGU8L2gzPg0KICAgICRncm91cENvbnRlbnRIdG1sDQojZWxzZQ0KICAgIDxkaXYgY2xhc3M9InRhYmJlZC1jb250ZW50cyI+DQogICAgICAgIDx1bCBjbGFzcz0idGFicyI+DQogICAgICAgICAgICAkZ3JvdXBMaXN0SHRtbA0KICAgICAgICA8L3VsPg0KICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50cyI+DQogICAgICAgICAgICAkZ3JvdXBDb250ZW50SHRtbA0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiAgICAjcmVnaXN0ZXJFbmRPZlBhZ2VIdG1sICgpDQogICAgICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCiAgICAgICAgCWpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7DQogICAgICAgIAkJdmFyIHRhYnMgPSBqUXVlcnkoJyMkY29yZV92Ml93aWRnZXQuV3JhcHBlckVsZW1lbnRJZCAudGFicyAudGFiJyk7DQogICAgICAgIAkJdmFyIGNvbnRlbnRzID0galF1ZXJ5KCcjJGNvcmVfdjJfd2lkZ2V0LldyYXBwZXJFbGVtZW50SWQgLmNvbnRlbnRzIC5jb250ZW50LCAjJGNvcmVfdjJfd2lkZ2V0LldyYXBwZXJFbGVtZW50SWQgLmNvbnRlbnRzIGZpZWxkc2V0Jyk7DQogICAgICAgIA0KICAgICAgICAJCWZ1bmN0aW9uIHNlbGVjdFRhYihuYW1lKSB7DQogICAgICAgIAkJCWNvbnRlbnRzLmZpbHRlcignW2RhdGEtY29udGVudCE9IicgKyBuYW1lICsgJyJdJykuaGlkZSgpOw0KICAgICAgICAJCQl0YWJzLmZpbmQoJ2FbZGF0YS1jb250ZW50IT0iJyArIG5hbWUgKyAnIl0nKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsNCiAgICAgICAgDQogICAgICAgIAkJCWNvbnRlbnRzLmZpbHRlcignW2RhdGEtY29udGVudD0iJyArIG5hbWUgKyAnIl0nKS5zaG93KCk7DQogICAgICAgIAkJCXRhYnMuZmluZCgnYVtkYXRhLWNvbnRlbnQ9IicgKyBuYW1lICsgJyJdJykucGFyZW50KCkuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7DQogICAgICAgIAkJfQ0KICAgICAgICANCiAgICAgICAgCQl0YWJzLm9uKCdjbGljaycsICdhJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAJCQl2YXIgbmFtZSA9IGpRdWVyeSh0aGlzKS5kYXRhKCdjb250ZW50Jyk7DQogICAgICAgIAkJCXNlbGVjdFRhYihuYW1lKTsNCiAgICAgICAgCQkJcmV0dXJuIGZhbHNlOw0KICAgICAgICAJCX0pOw0KICAgICAgICANCiAgICAgICAgCQl2YXIgZmlyc3QgPSB0YWJzLmZpbmQoJ2EnKS5maXJzdCgpOw0KICAgICAgICAJCWlmIChmaXJzdCkgew0KICAgICAgICAJCQlzZWxlY3RUYWIoZmlyc3QuZGF0YSgnY29udGVudCcpKTsNCiAgICAgICAgCQl9DQogICAgICAgIAl9KTsNCiAgICAgICAgPC9zY3JpcHQ+DQogICAgI2VuZA0KI2VuZA==</file>
			<file name="ui.vm">I3JlZ2lzdGVyRW5kT2ZQYWdlSHRtbCgpDQoJPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KCS8vPCFbQ0RBVEFbDQoJalF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsNCgkJdmFyIHNhdmUgPSBmdW5jdGlvbihzdWNjZXNzLCBmYWlsdXJlKQ0KCQl7DQoJCSAgICB2YXIgcGFkWmVybyA9IGZ1bmN0aW9uKHYsIGxlbmd0aCkgew0KCQkgICAgICB2ID0gKHYgKyAnJykgfHwgJyc7DQoJCSAgICAgIHdoaWxlICh2Lmxlbmd0aCA8IGxlbmd0aCkgew0KCQkgICAgICAgICAgdiA9ICcwJyArIHY7DQoJCSAgICAgIH0NCgkJICAgICAgcmV0dXJuIHY7DQoJCSAgICB9Ow0KCQkgICAgDQoJCSAgICB2YXIgb3JpZ2luYWxWYWx1ZXMgPSB7DQoJCSAgICAgICAgJG9yaWdpbmFsVmFsdWVzDQoJCSAgICB9Ow0KCQkgICAgDQoJCQl2YXIgZGF0YSA9ICRjb3JlX3YyX2R5bmFtaWNGb3JtLkdldFZhbHVlc1NjcmlwdCgkZm9ybUlkKTsNCgkJCXZhciBwb3N0RGF0YSA9IHt9Ow0KCQkJdmFyIHNhdmVkVmFsdWVzID0ge307DQoJCQl2YXIgaGFzRGF0YSA9IGZhbHNlOw0KCQkJZm9yICh2YXIgbiBpbiBkYXRhKSB7DQoJCQkgICAgdmFyIHZhbHVlID0gZGF0YVtuXTsNCgkJCSAgICBpZiAodmFsdWUgPT09IHRydWUpIHsNCgkJCSAgICAgICAgdmFsdWUgPSAnVHJ1ZSc7DQoJCQkgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHsNCgkJCSAgICAgICAgdmFsdWUgPSAnRmFsc2UnOw0KCQkJICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgdmFsdWUudG9HTVRTdHJpbmcpIHsNCgkJCSAgICAgICAgdmFsdWUgPSBbcGFkWmVybyh2YWx1ZS5nZXRGdWxsWWVhcigpLCA0KSwnLScscGFkWmVybyh2YWx1ZS5nZXRNb250aCgpICsgMSwgMiksJy0nLHBhZFplcm8odmFsdWUuZ2V0RGF0ZSgpLCAyKSwnICcscGFkWmVybyh2YWx1ZS5nZXRIb3VycygpLCAyKSwnOicscGFkWmVybyh2YWx1ZS5nZXRNaW51dGVzKCksIDIpLCc6JyxwYWRaZXJvKHZhbHVlLmdldFNlY29uZHMoKSwgMildLmpvaW4oJycpOw0KCQkJICAgIH0NCgkJCSAgICBpZiAob3JpZ2luYWxWYWx1ZXNbbl0gIT0gdmFsdWUpIHsNCgkJCSAgICAgICAgaGFzRGF0YSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgIHBvc3REYXRhWydfUHJvZmlsZUZpZWxkc18nICsgbl0gPSB2YWx1ZSAhPSBudWxsID8gKHZhbHVlICsgJycpIDogJyc7IA0KICAgICAgICAgICAgICAgICAgICBzYXZlZFZhbHVlc1tuXSA9IHZhbHVlOw0KCQkJICAgIH0NCgkJCX0NCgkJCQ0KCQkJaWYgKGhhc0RhdGEpIHsNCgkJCSAgICBwb3N0RGF0YS5Vc2VySWQgPSAkdXNlci5JZDsNCgkJCQlqUXVlcnkudGVsbGlnZW50LmV2b2x1dGlvbi5wdXQoew0KCQkJCQl1cmw6IGpRdWVyeS50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL3VzZXJzL3tVc2VySWR9Lmpzb24/SW5jbHVkZUZpZWxkcz1JZCcsDQoJCQkJCWRhdGE6IHBvc3REYXRhLA0KCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgeyANCgkJCQkJICAgIG9yaWdpbmFsVmFsdWVzID0galF1ZXJ5LmV4dGVuZCh7fSwgb3JpZ2luYWxWYWx1ZXMsIHNhdmVkVmFsdWVzKTsNCgkJCQkJICAgIHN1Y2Nlc3MoKTsgDQoJCQkJCX0sDQoJCQkJCWVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MsIGV4KSB7IGpRdWVyeS50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZXNjLHt0eXBlOidlcnJvcid9KTtmYWlsdXJlKCk7IH0NCgkJCQl9KTsNCgkJCX0gZWxzZSB7DQogICAgICAgICAgICAgICAgc3VjY2VzcygpOw0KICAgICAgICAgICAgfQ0KCQl9DQoJCSRjb3JlX3YyX2VkaXRhYmxlR3JvdXAuR2V0UmVnaXN0cmF0aW9uU2NyaXB0KCdVc2VyJywgJ3NhdmUnKQ0KCX0pOw0KCS8vXV0+DQoJPC9zY3JpcHQ+DQojZW5k</file>
		</files>
	</scriptedContentFragment>
</scriptedContentFragments>