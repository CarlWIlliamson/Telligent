<scriptedContentFragments>
	<scriptedContentFragment name="${resource:Calendar_EventList_Name}" version="10.1.8.10498" description="${resource:Calendar_EventList_Description}" instanceIdentifier="cc404397242c47a48b4673081452b109" theme="" isCacheable="false" varyCacheByUser="false" showHeaderByDefault="true" cssClass="event-list">
		<contentScript><![CDATA[#set($viewType = $core_v2_widget.GetStringValue("viewType", "upcoming"))
#if ($viewType == 'calendar')
    <div id="$core_v2_widget.UniqueId('content')">
    </div>
    <div id="$core_v2_widget.UniqueId('pager')"></div>
    #registerEndOfPageHtml('telligent.evolution.Calendar.widgets.eventList')
      <script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"></script>
    #end
    #registerEndOfPageHtml()
      <script type="text/javascript">
      //<!--31154f2f1a944c64b0e644f1022f506c-cdata-start-->
      jQuery(document).ready(function(j)
      {
        j.telligent.evolution.Calendar.widgets.eventList.register({
          month: $core_v2_utility.CurrentDate.Month,
          year: $core_v2_utility.CurrentDate.Year,
          date: '',
          pageIndexParameter: '$core_v2_encoding.JavascriptEncode($core_v2_ui.PageIndexQueryStringKey)',
          content: j('#$core_v2_widget.UniqueId('content')'),
          pager: j('#$core_v2_widget.UniqueId('pager')'),
          loadingUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('callback-listcalendarevents.vm'))',
          eventsOnText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EventsOn'))',
          upcomingEventsText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('UpcomingEvents'))',
          wrapper: j('#$core_v2_widget.WrapperElementId')
        });
      });
      //>
      </script>
    #end
#else
    $core_v2_widget.ExecuteFile('is-sidebar.vm')
    #if($isInSidebar)
        $core_v2_widget.ExecuteFile("subview-perform-query.vm")
        $core_v2_widget.ExecuteFile('sidebar.vm')
    #else
        $core_v2_ui.PagedContent('callback-listevents.vm')
        $core_v2_ui.Pager($events.PageIndex, $events.PageSize, $events.TotalCount)
    #end
#end]]></contentScript>
		<headerScript><![CDATA[$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Calendar_EventList_Title}'))]]></headerScript>
		<configuration><![CDATA[<propertyGroup id="options" resourceName="Options">
    <property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Calendar_EventList_Title}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Platform" />
    <property id="viewType" controlType="Telligent.Evolution.Controls.PropertyVisibilityValueSelectionControl, Telligent.Evolution.Platform" resourceName="ViewType" dataType="string" defaultValue="upcoming" >
      <propertyValue value="upcoming" resourceName="UpcomingEvents" propertiesToHide="status" propertiesToShow="maxMonths,maxEvents" />
      <propertyValue value="myevents" resourceName="MyEvents"  propertiesToShow="status,maxMonths,maxEvents" />
      <propertyValue value="calendar" resourceName="View_Calendar" propertiesToHide="status,maxMonths" propertiesToShow="maxEvents" />
    </property>
    <property id="status" resourceName="Status" dataType="string" defaultValue="Confirmed" >
        <propertyValue value="Confirmed" resourceName="Confirmed" />
        <propertyValue value="Cancelled" resourceName="Cancelled" />
        <propertyValue value="Invited" resourceName="Invited" />
        <propertyValue value="NotApproved" resourceName="NotApproved" />
    </property>
    <property id="maxMonths" resourceName="calendar_EventLinks_MaxMonths" dataType="int" defaultValue="3" />
    <property id="maxEvents" resourceName="calendar_EventLinks_MaxEvents" dataType="int" defaultValue="5" />
    <property id="selectedCalendarOrGroup" resourceName="calendar_SelectGroupAndCalendar" dataType="custom" controlType="Telligent.Evolution.Extensions.Calendar.Controls.CalendarSelectionControl, Telligent.Evolution.Calendar" width="95%" />
</propertyGroup>
      ]]></configuration>
		<languageResources><language key="en-us">
  <resource name="calendar_Edit">Edit</resource>
  <resource name="calendar_EventLinks_IsAggregate"></resource>
  <resource name="calendar_EventLinks_MaxEvents">Events to show</resource>
  <resource name="calendar_EventLinks_MaxMonths">Months to show</resource>
  <resource name="Calendar_EventList_Description">Displays list of calendar events</resource>
  <resource name="Calendar_EventList_Name">Event Calendar - Event List</resource>
  <resource name="Calendar_EventList_Title">Upcoming Events</resource>
  <resource name="calendar_SelectGroupAndCalendar">Select group/calendar to pull content from</resource>
  <resource name="Cancelled">Cancelled</resource>
  <resource name="CF_Title">Widget Title</resource>
  <resource name="Clear">Clear...</resource>
  <resource name="Confirmed">Confirmed</resource>
  <resource name="EventsOn">Events on {0}</resource>
  <resource name="Invited">Invited</resource>
  <resource name="MyEvents">My Events</resource>
  <resource name="NoData">No upcoming events were found.</resource>
  <resource name="NoData_Date">No events occur on {0}.</resource>
  <resource name="NoData_Date_Link">No events occur on {0}. Be the first to &lt;a href="{1}"&gt;add an event&lt;/a&gt;.</resource>
  <resource name="NoData_Link">No upcoming events were found.  Be the first to &lt;a href="{0}"&gt;add an event&lt;/a&gt;.</resource>
  <resource name="NoData_Upcoming">No events occur after {0}.</resource>
  <resource name="NoData_Upcoming_Date">No events occur before {0}.</resource>
  <resource name="NoData_Upcoming_Link">No events occur after {0}. Be the first to &lt;a href="{1}"&gt;add an event&lt;/a&gt;.</resource>
  <resource name="NotApproved">NotApproved</resource>
  <resource name="Options">Options</resource>
  <resource name="Status">Registration Status</resource>
  <resource name="to">to</resource>
  <resource name="UpcomingEvents">Events</resource>
  <resource name="View">View</resource>
  <resource name="View_Calendar">Synchronize with calendar on the same page</resource>
  <resource name="ViewType">View Type</resource>
</language>
<language key="zh-cn">
  <resource name="calendar_Edit">编辑</resource>
  <resource name="calendar_EventLinks_IsAggregate">显示所有日历中的活动</resource>
  <resource name="calendar_EventLinks_MaxEvents">要显示的活动</resource>
  <resource name="calendar_EventLinks_MaxMonths">要显示的月份</resource>
  <resource name="Calendar_EventList_Description">显示日历活动的列表</resource>
  <resource name="Calendar_EventList_Name">活动日历 - 活动列表</resource>
  <resource name="Calendar_EventList_Title">即将举行的活动</resource>
  <resource name="calendar_SelectGroupAndCalendar">选择要从中拉入内容的社区/日历</resource>
  <resource name="Cancelled">已取消</resource>
  <resource name="CF_Title">小组件标题</resource>
  <resource name="Clear">清除...</resource>
  <resource name="Confirmed">已确认</resource>
  <resource name="EventsOn"></resource>
  <resource name="Invited">已邀请</resource>
  <resource name="MyEvents">我的活动</resource>
  <resource name="NoData">没有在此日期开始的活动。</resource>
  <resource name="NoData_Date"></resource>
  <resource name="NoData_Date_Link"></resource>
  <resource name="NoData_Link"></resource>
  <resource name="NoData_Upcoming"></resource>
  <resource name="NoData_Upcoming_Link"></resource>
  <resource name="NotApproved">未获批准</resource>
  <resource name="Options">选项</resource>
  <resource name="Status">注册状态</resource>
  <resource name="to">到</resource>
  <resource name="UpcomingEvents">即将举行的活动</resource>
  <resource name="View"></resource>
  <resource name="View_Calendar"></resource>
  <resource name="ViewType">视图类型</resource>
</language>
<language key="zh-tw">
  <resource name="calendar_Edit">編輯</resource>
  <resource name="calendar_EventLinks_IsAggregate">顯示所有行事曆的事件</resource>
  <resource name="calendar_EventLinks_MaxEvents">顯示的事件</resource>
  <resource name="calendar_EventLinks_MaxMonths">顯示的月份</resource>
  <resource name="Calendar_EventList_Description">顯示行事曆事件的清單</resource>
  <resource name="Calendar_EventList_Name">事件行事曆 - 事件清單</resource>
  <resource name="Calendar_EventList_Title">即將發生的事件</resource>
  <resource name="calendar_SelectGroupAndCalendar">選取要從中提取內容的社群/行事曆</resource>
  <resource name="Cancelled">已取消</resource>
  <resource name="CF_Title">Widget 標題</resource>
  <resource name="Clear">清除...</resource>
  <resource name="Confirmed">已確認</resource>
  <resource name="EventsOn"></resource>
  <resource name="Invited">已邀請</resource>
  <resource name="MyEvents">我的事件</resource>
  <resource name="NoData">沒有在此日期開始的事件。</resource>
  <resource name="NoData_Date"></resource>
  <resource name="NoData_Date_Link"></resource>
  <resource name="NoData_Link"></resource>
  <resource name="NoData_Upcoming"></resource>
  <resource name="NoData_Upcoming_Link"></resource>
  <resource name="NotApproved">未核准</resource>
  <resource name="Options">選項</resource>
  <resource name="Status">註冊狀態</resource>
  <resource name="to">收件者</resource>
  <resource name="UpcomingEvents">即將發生的事件</resource>
  <resource name="View"></resource>
  <resource name="View_Calendar"></resource>
  <resource name="ViewType">檢視類型</resource>
</language></languageResources>
		<additionalCssScript><![CDATA[view-$core_v2_widget.GetStringValue('viewType', 'upcoming')]]></additionalCssScript>
		<files>
			<file name="callback-listcalendarevents.vm">JGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdpcy1zaWRlYmFyLnZtJykNCiRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgic3Vidmlldy1wZXJmb3JtLXF1ZXJ5LnZtIikNCg0KI2lmICgkaXNTcGVjaWZpY0RheSkNCiAgICA8cD4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0V2ZW50c09uJyksICRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJHN0YXJ0RGF0ZSkpPC9wPg0KI2Vsc2UNCiAgICA8cD4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVXBjb21pbmdFdmVudHMnKTwvcD4NCiNlbmQNCiNpZigkaXNJblNpZGViYXIpDQogICAgJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdzaWRlYmFyLnZtJykNCiNlbHNlDQogICAgJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdsaXN0LnZtJykNCiNlbmQNCjxkaXYgY2xhc3M9InBhZ2VyLWRhdGEiIGRhdGEtcGFnZXNpemU9IiRldmVudHMuUGFnZVNpemUiIGRhdGEtdG90YWxpdGVtcz0iJGV2ZW50cy5Ub3RhbENvdW50IiAjaWYoJGlzU3BlY2lmaWNEYXkpIGRhdGEtZGF0ZT0iJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkc3RhcnREYXRlKSIgI2VuZD48L2Rpdj4NCg==</file>
			<file name="callback-listevents.vm">JGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCJzdWJ2aWV3LXBlcmZvcm0tcXVlcnkudm0iKQ0KJGNvcmVfdjJfdWkuUGFnZWRDb250ZW50KCdsaXN0LnZtJykNCg==</file>
			<file name="is-sidebar.vm">I3NldCAoJGlzSW5TaWRlYmFyID0gZmFsc2UpDQojc2V0ICgkcmVnaW9uID0gJGNvcmVfdjJfd2lkZ2V0LlJlZ2lvbk5hbWUuVG9Mb3dlcigpKQ0KI3NldCAoJGxheW91dCA9ICRjb3JlX3YyX3BhZ2UuTGF5b3V0LlRvTG93ZXIoKSkNCiNpZiAoJHJlZ2lvbiA9PSAnc3BsaXQtc2lkZWJhci1sZWZ0JyB8fCAkcmVnaW9uID09ICdzcGxpdC1zaWRlYmFyLXJpZ2h0JyB8fCAkcmVnaW9uID09ICdsZWZ0LXNpZGViYXInKSANCiAgICAjc2V0ICgkaXNJblNpZGViYXIgPSB0cnVlKQ0KI2Vsc2VpZiAoJHJlZ2lvbiA9PSAncmlnaHQtc2lkZWJhcicgJiYgISRsYXlvdXQuQ29udGFpbnMoJ3NwbGl0LWNvbnRlbnQnKSAmJiAhJGxheW91dC5Db250YWlucygnc3BsaXQtc2lkZWJhcicpKQ0KICAgICNzZXQgKCRpc0luU2lkZWJhciA9IHRydWUpDQojZW5k</file>
			<file name="list.vm">I2ZvcmVhY2ggKCRldmVudCBpbiAkZXZlbnRzKQojYmVmb3JlYWxsCgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCBjb250ZW50Ij4KI2VhY2gKCSNzZXQgKCRoYXNFZGl0UGVybWlzc2lvbiA9ICRjYWxlbmRhcl92MV9jYWxlbmRhcnMuSGFzUGVybWlzc2lvbigkZXZlbnQuQ2FsZW5kYXJJZCwkY2FsZW5kYXJfdjFfcGVybWlzc2lvbnMuRWRpdEV2ZW50KSkKCSNzZXQgKCR2aWV3VXJsID0gJGNhbGVuZGFyX3YxX3VybHMuRXZlbnQoJGV2ZW50LklkKSkKCSNzZXQgKCRlZGl0VXJsID0gJGNhbGVuZGFyX3YxX3VybHMuRWRpdEV2ZW50KCRldmVudC5JZCkpCgkjc2V0ICgkZXZlbnREYXRlID0gJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZUFuZFRpbWUoJGV2ZW50LkV2ZW50U3RhcnREYXRlLCAiJXtBZGp1c3RUaW1lWm9uZSA9ICdmYWxzZSd9IikpCgkjc2V0ICgkZXZlbnRFbmREYXRlID0gJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZUFuZFRpbWUoJGV2ZW50LkV2ZW50RW5kRGF0ZSwgIiV7QWRqdXN0VGltZVpvbmUgPSAnZmFsc2UnfSIpKQoKCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIiBkYXRhLWhyZWY9IiR2aWV3VXJsIj4KCQk8ZGl2IGNsYXNzPSJjb250ZW50IGFiYnJldmlhdGVkIj4KCQkJPGRpdiBjbGFzcz0ic3VtbWFyeSI+CgkJCQk8aDMgY2xhc3M9Im5hbWUiPgoJCQkJCTxhIGhyZWY9IiR2aWV3VXJsIiBjbGFzcz0iaW50ZXJuYWwtbGluayBldmVudC10aXRsZSI+JGV2ZW50LkV2ZW50VGl0bGU8L2E+CgkJCQkJI2lmICgkaGFzRWRpdFBlcm1pc3Npb24pCgkJCQkJCTxhIGhyZWY9IiRlZGl0VXJsIiBjbGFzcz0iaW50ZXJuYWwtbGluayBlZGl0IHVpLXRpcCIgZGF0YS10aXA9IiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdjYWxlbmRhcl9FZGl0JykiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdjYWxlbmRhcl9FZGl0Jyk8L2E+CgkJCQkJI2VuZAoJCQkJPC9oMz4KCQkJCTxkaXYgY2xhc3M9ImNvbnRlbnQiPgoJCQkJCTxzcGFuIGNsYXNzPSJzdGFydGRhdGUiPiRldmVudERhdGU8L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImVuZGRhdGUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCd0bycpICRldmVudEVuZERhdGU8L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImV2ZW50LXRpbWV6b25lIj4KICAgICAgICAgICAgICAgICAgICAgICAgJCFjb3JlX3YyX2NvbmZpZ3VyYXRpb24uR2V0VGltZVpvbmUoJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuVGltZVpvbmVJZCwgJGV2ZW50LkV2ZW50U3RhcnREYXRlKS5OYW1lV2l0aG91dE9mZnNldAogICAgCQkJCTwvc3Bhbj48YnIgLz4KCQkJCTwvZGl2PgoJCQk8L2Rpdj4KCQk8L2Rpdj4KCTwvbGk+CiNhZnRlcmFsbAoJPC91bD4KI25vZGF0YQoJI2lmICgkY29yZV92Ml91aS5HZXRDdXJyZW50UGFnZUluZGV4KCkgPT0gMCkKCQk8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+CgkJCSNzZXQgKCRhZGRVcmwgPSBmYWxzZSkKCQkJI3NldCAoJGFkZFVybCA9ICRjYWxlbmRhcl92MV91cmxzLkFkZEV2ZW50KCRjYWxlbmRhcl92MV9jYWxlbmRhcnMuQ3VycmVudC5JZCkpCgkJCSNpZiAoJGFkZFVybCkKCQkJCSNpZiAoJHN0YXJ0RGF0ZSkKCQkJCQkjc2V0KCRuZXdEYXRlID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZURhdGUoIiRzdGFydERhdGUuWWVhciIsICIkc3RhcnREYXRlLk1vbnRoIiwgIiRzdGFydERhdGUuRGF5IiwgJzEyJywgJzAnKSkKCQkJCQkgICAjc2V0KCRhZGRVcmwgPSAkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRhZGRVcmwsICJzdGFydERhdGU9JGNvcmVfdjJfZW5jb2RpbmcuVXJsRW5jb2RlKCRjYWxlbmRhcl92MV9VSS5Ub0N1bHR1cmVTYWZlU3RyaW5nKCRuZXdEYXRlKSkiKSkKCQkJCSNlbmQKCQkJCSNpZiAoJGlzU3BlY2lmaWNEYXkpCgkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbm5ndWFnZS5HZXRSZXNvdXJjZSgiTm9EYXRhX0RhdGVfTGluayIpLCAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlKCRzdGFydERhdGUpLCAkYWRkVXJsKQoJCQkJI2Vsc2VpZiAoJHN0YXJ0RGF0ZSkKCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIk5vRGF0YV9VcGNvbWluZ19MaW5rIiksICRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJHN0YXJ0RGF0ZSksICRhZGRVcmwpCgkJCQkjZWxzZQoJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiTm9EYXRhX0xpbmsiKSwgJGFkZFVybCkKCQkJCSNlbmQKCQkJI2Vsc2UKCQkJCSNpZiAoJGlzU3BlY2lmaWNEYXkpCgkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJOb0RhdGFfRGF0ZSIpLCAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlKCRzdGFydERhdGUpKQoJCQkJI2Vsc2VpZiAoJHN0YXJ0RGF0ZSkKCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIk5vRGF0YV9VcGNvbWluZ19EYXRlIiksICRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJHN0YXJ0RGF0ZSkpCgkJCQkjZWxzZQoJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJOb0RhdGEiKQoJCQkJI2VuZAoJCQkjZW5kCgkJPC9kaXY+CgkjZW5kCiNlbmQK</file>
			<file name="sidebar.vm">I2ZvcmVhY2ggKCRldmVudCBpbiAkZXZlbnRzKQ0KI2JlZm9yZWFsbA0KCTxkaXYgY2xhc3M9ImF2YXRhci1saXN0Ij4NCgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+DQojZWFjaA0KICAgICNzZXQgKCR2aWV3VXJsID0gJGNhbGVuZGFyX3YxX3VybHMuRXZlbnQoJGV2ZW50LklkKSkNCiAgICAjc2V0ICgkZXZlbnREYXRlID0gJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZUFuZFRpbWUoJGV2ZW50LkV2ZW50U3RhcnREYXRlLCAiJXtBZGp1c3RUaW1lWm9uZSA9ICdmYWxzZSd9IikpDQoNCgk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSIgZGF0YS1ocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR2aWV3VXJsKSI+DQoJCTxkaXYgY2xhc3M9ImF1dGhvciI+DQoJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR2aWV3VXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1mdWxsLXBvc3QgbmF2aWdhYmxlIHVpLXRpcCIgZGF0YS10aXA9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1ZpZXcnKSkiPg0KCQkJCTxkaXYgY2xhc3M9ImNvbnRlbnQiPiRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCRldmVudC5FdmVudFRpdGxlLCAyMDAsICIuLi4iKTwvZGl2Pg0KCQkJPC9hPg0KCQkJPGRpdiBjbGFzcz0ibWV0YSI+DQogICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdmlld1VybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctcG9zdCBuYXZpZ2FibGUiPg0KCQkJCQkkZXZlbnREYXRlDQoJCQkJPC9hPg0KCQkJPC9kaXY+DQoJCTwvZGl2Pg0KCTwvbGk+DQojYWZ0ZXJhbGwNCgk8L3VsPg0KCTwvZGl2Pg0KI25vZGF0YQ0KICAgICNpZiAoJHZpZXdUeXBlID09ICdjYWxlbmRhcicpDQogICAgICAgICNpZiAoJGNvcmVfdjJfdWkuR2V0Q3VycmVudFBhZ2VJbmRleCgpID09IDApDQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+DQogICAgICAgICAgICAgICAgI3NldCAoJGFkZFVybCA9IGZhbHNlKQ0KICAgICAgICAgICAgICAgICNzZXQgKCRhZGRVcmwgPSAkY2FsZW5kYXJfdjFfdXJscy5BZGRFdmVudCgkY2FsZW5kYXJfdjFfY2FsZW5kYXJzLkN1cnJlbnQuSWQpKQ0KICAgICAgICAJCSNpZiAoJGFkZFVybCkNCiAgICAgICAgCQkgICAgI2lmICgkc3RhcnREYXRlKQ0KICAgICAgICAJCSAgICAgICAgI3NldCgkbmV3RGF0ZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VEYXRlKCIkc3RhcnREYXRlLlllYXIiLCAiJHN0YXJ0RGF0ZS5Nb250aCIsICIkc3RhcnREYXRlLkRheSIsICcxMicsICcwJykpDQogICAgICAgIAkJICAgICAgICAjc2V0KCRhZGRVcmwgPSAkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRhZGRVcmwsICJzdGFydERhdGU9JGNvcmVfdjJfZW5jb2RpbmcuVXJsRW5jb2RlKCRjYWxlbmRhcl92MV9VSS5Ub0N1bHR1cmVTYWZlU3RyaW5nKCRuZXdEYXRlKSkiKSkNCiAgICAgICAgCQkgICAgI2VuZA0KICAgICAgICAJCSAgICAjaWYgKCRpc1NwZWNpZmljRGF5KQ0KICAgICAgICAJCSAgICAgICAgJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJOb0RhdGFfRGF0ZV9MaW5rIiksICRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJHN0YXJ0RGF0ZSksICRhZGRVcmwpDQogICAgICAgIAkJICAgICNlbHNlaWYgKCRzdGFydERhdGUpDQogICAgICAgIAkJICAgICAgICAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIk5vRGF0YV9VcGNvbWluZ19MaW5rIiksICRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJHN0YXJ0RGF0ZSksICRhZGRVcmwpDQogICAgICAgIAkJICAgICNlbHNlDQogICAgCQkJCSAgICAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIk5vRGF0YV9MaW5rIiksICRhZGRVcmwpDQogICAgCQkJCSNlbmQNCiAgICAgICAgCQkjZWxzZQ0KICAgICAgICAJCSAgICAjaWYgKCRpc1NwZWNpZmljRGF5KQ0KICAgICAgICAJCSAgICAgICAgJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJOb0RhdGFfRGF0ZSIpLCAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlKCRzdGFydERhdGUpKQ0KICAgICAgICAJCSAgICAjZWxzZWlmICgkc3RhcnREYXRlKQ0KICAgICAgICAJCSAgICAgICAgJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJOb0RhdGFfVXBjb21pbmdfRGF0ZSIpLCAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlKCRzdGFydERhdGUpKQ0KICAgICAgICAJCSAgICAjZWxzZQ0KICAgICAgICAJCQkgICAgJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIk5vRGF0YSIpDQogICAgICAgIAkJCSNlbmQNCiAgICAgICAgCQkjZW5kDQogICAgICAgIAk8L2Rpdj4NCiAgICAgICAgI2VuZA0KICAgICNlbHNlDQoJICAgICRjb3JlX3YyX3dpZGdldC5IaWRlKCkNCgkjZW5kDQojZW5k</file>
			<file name="subview-perform-query.vm">I3NldCgkdXNlciA9IGZhbHNlKQ0KI3NldCgkdXNlciA9ICRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nKQ0KDQojc2V0KCR2aWV3VHlwZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgidmlld1R5cGUiLCAidXBjb21pbmciKSkNCiNzZXQoJE1heE1vbnRocyA9ICRjb3JlX3YyX3dpZGdldC5HZXRJbnRWYWx1ZSgibWF4TW9udGhzIiwgMykpDQojc2V0KCRtYXhFdmVudHMgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoIm1heEV2ZW50cyIsIDUpKQ0KDQojc2V0KCRlbmREYXRlID0gZmFsc2UpDQojc2V0KCRzdGFydERhdGUgPSBmYWxzZSkNCiNzZXQoJGlzU3BlY2lmaWNEYXkgPSBmYWxzZSkNCiNpZiAoJHZpZXdUeXBlID09ICdjYWxlbmRhcicgJiYgJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X2RhdGUnKSAmJiAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfZGF0ZScpLkxlbmd0aCA+IDApDQogICAgI3NldCgkc3RhcnREYXRlID0gJGNhbGVuZGFyX3YxX1VJLlBhcnNlRGF0ZVRpbWVFeGFjdCgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfZGF0ZScpKSkNCiAgICAjc2V0KCRpc1NwZWNpZmljRGF5ID0gdHJ1ZSkNCiNlbHNlaWYoJHZpZXdUeXBlID09ICdjYWxlbmRhcicgJiYgJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3llYXInKSAmJiAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfeWVhcicpLkxlbmd0aCA+IDAgJiYgJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X21vbnRoJykgJiYgJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X21vbnRoJykuTGVuZ3RoID4gMCkNCiAgICAjc2V0KCRzdGFydERhdGUgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlRGF0ZSgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfeWVhcicpLCAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfbW9udGgnKSwgIjEiKSkNCiNlbHNlaWYgKCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnY2FsZW5kYXJEYXRlJykpDQogICAgI3NldCgkc3RhcnREYXRlID0gJGNhbGVuZGFyX3YxX1VJLlBhcnNlRGF0ZVRpbWVFeGFjdCgkY29yZV92Ml9lbmNvZGluZy5IdG1sRGVjb2RlKCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnY2FsZW5kYXJEYXRlJykpKSkNCiAgICAjc2V0KCRpc1NwZWNpZmljRGF5ID0gdHJ1ZSkNCiNlbmQNCg0KI2lmKCEkc3RhcnREYXRlIHx8ICRzdGFydERhdGUuWWVhciA9PSAxKQ0KCSNzZXQgKCRzdGFydERhdGUgPSAkY29yZV92Ml91dGlsaXR5LkN1cnJlbnREYXRlKQ0KCSNpZiAoJHZpZXdUeXBlICE9ICdjYWxlbmRhcicpDQoJICAgICNzZXQgKCRlbmREYXRlID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZURhdGUoIiRzdGFydERhdGUuWWVhciIsICIkc3RhcnREYXRlLk1vbnRoIiwgIjEiKS5BZGRNb250aHMoJE1heE1vbnRocykuQWRkTWludXRlcygtMSkpDQoJI2VuZA0KCSNzZXQgKCRmaWx0ZXJlZCA9IGZhbHNlKQ0KI2Vsc2VpZiAoJGlzU3BlY2lmaWNEYXkpDQogICAgI3NldCAoJGVuZERhdGUgPSAkc3RhcnREYXRlLkFkZERheXMoMSkuQWRkTWludXRlcygtMSkpDQogICAgI3NldCAoJGZpbHRlcmVkID0gdHJ1ZSkNCiNlbmQNCg0KI3NldCgkc2VsZWN0ZWRDYWxlbmRhck9yR3JvdXAgPSAkY29yZV92Ml93aWRnZXQuR2V0U3RyaW5nVmFsdWUoInNlbGVjdGVkQ2FsZW5kYXJPckdyb3VwIiwgIiIpKQ0KI3NldCgkcGFyc2VkQ2FsZW5kYXJPckdyb3VwID0gJGNvcmVfdjJfcGFnZS5QYXJzZVF1ZXJ5U3RyaW5nKCRzZWxlY3RlZENhbGVuZGFyT3JHcm91cCkpDQojc2V0KCRjYWxlbmRhcnMgPSBmYWxzZSkNCg0KI3NldCgkY2FsZW5kYXJzID0gJHBhcnNlZENhbGVuZGFyT3JHcm91cC5WYWx1ZXMoJ0NhbGVuZGFyJykpDQojc2V0KCRncm91cCA9IGZhbHNlKQ0KI3NldCgkZ3JvdXAgPSAkcGFyc2VkQ2FsZW5kYXJPckdyb3VwLlZhbHVlKCdHcm91cCcpKQ0KI3NldCgkaW5jbHVkZVN1Ykdyb3VwcyA9ICRwYXJzZWRDYWxlbmRhck9yR3JvdXAuVmFsdWUoJ0luY2x1ZGVTdWJHcm91cHMnKSkNCiNpZiAoJHNlbGVjdGVkQ2FsZW5kYXJPckdyb3VwLmxlbmd0aCA9PSAwKQ0KICAjc2V0ICgkaW5jbHVkZVN1Ykdyb3VwcyA9IGZhbHNlKQ0KI2VuZA0KDQojc2V0ICgkcXVlcnkgPSAiJXsgUGFnZVNpemUgPSAkbWF4RXZlbnRzLCBJbmNsdWRlU3ViR3JvdXBzID0gJGluY2x1ZGVTdWJHcm91cHMsIERhdGVSYW5nZVN0YXJ0ID0gJHN0YXJ0RGF0ZSwgUXVlcnlUeXBlID0gJ0RhdGVSYW5nZScsIFNvcnRCeSA9ICdTdGFydERhdGUnIH0iKQ0KJHF1ZXJ5LkFkZCgnUGFnZUluZGV4JywgJGNvcmVfdjJfdWkuR2V0Q3VycmVudFBhZ2VJbmRleCgpKQ0KI2lmICgkZW5kRGF0ZSkNCiAgICAkcXVlcnkuQWRkKCdEYXRlUmFuZ2VFbmQnLCAkZW5kRGF0ZSkNCiNlbmQNCiNpZiAoJHZpZXdUeXBlID09ICJteWV2ZW50cyIpDQogICAgJHF1ZXJ5LkFkZCgnUmVnaXN0ZXJlZFVzZXJJZCcsICR1c2VyLklkKQ0KICAgIA0KICAgICNzZXQoJHN0YXR1cyA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgic3RhdHVzIiwgIkNvbmZpcm1lZCIpKQ0KICAgICRxdWVyeS5BZGQoJ1JlZ2lzdGVyZWRVc2VyUmVnaXN0cmF0aW9uU3RhdHVzJywgJHN0YXR1cykNCiNlbmQgICAgDQoNCiNzZXQoJGNhbGVuZGFySWRzID0gZmFsc2UpDQojc2V0KCRjdXJyZW50Q2FsZW5kYXIgPSAtMSkNCg0KI2lmICghJGNhbGVuZGFycyAmJiAhJGdyb3VwKQ0KI2lmICgkY2FsZW5kYXJfdjFfY2FsZW5kYXJzLkN1cnJlbnQpDQogICNzZXQoJGN1cnJlbnRDYWxlbmRhcklkID0gJGNhbGVuZGFyX3YxX2NhbGVuZGFycy5DdXJyZW50LklkKQ0KICAkcXVlcnkuQWRkKCdDYWxlbmRhcklkJywgJGN1cnJlbnRDYWxlbmRhcklkKQ0KI2Vsc2VpZigkY29yZV92Ml9ncm91cC5DdXJyZW50KQ0KICAkcXVlcnkuQWRkKCdDYWxlbmRhclJlZmVyZW5jZUlkJywgJGNvcmVfdjJfZ3JvdXAuQ3VycmVudC5JZCkNCiAgJHF1ZXJ5LkFkZCgnQ2FsZW5kYXJDb250ZXh0JywgJ0dyb3VwJykNCiNlbmQNCiNlbHNlaWYoJGNhbGVuZGFycykNCgkjZm9yZWFjaCAoJGNhbGVuZGFyIGluICRjYWxlbmRhcnMpDQoJCSMjIGlkIG9mIC0xIG1lYW5zIHVzZSB0aGUgY3VycmVudCBjYWxlbmRhcg0KCQkjaWYgKCRjYWxlbmRhciA9PSAtMSkNCgkJCSNzZXQgKCRjYWxlbmRhciA9ICRjYWxlbmRhcl92MV9jYWxlbmRhcnMuQ3VycmVudC5JZCkNCgkJI2VuZA0KCQkjaWYoJGNhbGVuZGFyID4gMCkNCgkJCSNpZigkY2FsZW5kYXJJZHMpDQoJCQkJI3NldCgkY2FsZW5kYXJJZHMgPSAiJGNhbGVuZGFySWRzLCRjYWxlbmRhciIpDQoJCQkjZWxzZQ0KCQkJCSNzZXQoJGNhbGVuZGFySWRzID0gIiRjYWxlbmRhciIpDQoJCQkjZW5kDQoJCSNlbmQNCgkjZW5kDQogICAgI2lmKCRjYWxlbmRhcikNCiAgICAgICAgJHF1ZXJ5LkFkZCgnQ2FsZW5kYXJJZCcsICRjdXJyZW50Q2FsZW5kYXJJZCkNCiAgICAjZWxzZWlmKCRjYWxlbmRhcklkcykNCgkJJHF1ZXJ5LkFkZCgnRmlsdGVyQnlDYWxlbmRhcklkTGlzdCcsICRjYWxlbmRhcklkcykNCgkjZW5kDQojZWxzZQ0KCSMjIGdldCBwb3N0cyByZWxhdGVkIHRvIGEgZ3JvdXANCgkjaWYoJGdyb3VwID09IDAgfHwgISRncm91cCkNCgkJI3NldCgkZ3JvdXBJZCA9ICRjb3JlX3YyX2dyb3VwLkN1cnJlbnQuSWQpDQoJI2Vsc2UNCgkJI3NldCgkZ3JvdXBJZCA9ICRncm91cCkNCgkjZW5kDQoNCgkkcXVlcnkuQWRkKCdDYWxlbmRhclJlZmVyZW5jZUlkJywgJGdyb3VwSWQpDQoJJHF1ZXJ5LkFkZCgnQ2FsZW5kYXJDb250ZXh0JywgJ0dyb3VwJykNCiNlbmQNCiNzZXQgKCRldmVudHMgPSAkY2FsZW5kYXJfdjFfZXZlbnRzLkxpc3QoJHF1ZXJ5KSkNCg==</file>
			<file name="ui.js">KGZ1bmN0aW9uICgkLCBnbG9iYWwpIHsNCiAgICBpZiAodHlwZW9mICQudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudCA9IHt9OyB9DQogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9OyB9DQogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQ0KICAgIGlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLkNhbGVuZGFyID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24uQ2FsZW5kYXIgPSB7fTsgfQ0KICAgIGlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLkNhbGVuZGFyLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi5DYWxlbmRhci53aWRnZXRzID0ge307IH0NCg0KICAgIHZhciBsb2FkaW5nSHRtbCA9ICc8ZGl2IGNsYXNzPSJ1aS1sb2FkaW5nIj48L2Rpdj4nLA0KICAgIHNldENvbnRlbnQgPSBmdW5jdGlvbiAoY29udGV4dCwgaHRtbCwgZG9FZmZlY3QpIHsNCiAgICAgICAgY29udGV4dC5jb250ZW50Lmh0bWwoaHRtbCkuaGlkZSgpOw0KICAgICAgICBpZiAoZG9FZmZlY3QpIHsNCiAgICAgICAgICAgIGNvbnRleHQuY29udGVudC5mYWRlSW4oMjAwKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGNvbnRleHQuY29udGVudC5zaG93KCk7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIHZhciBwYWdlckRhdGEgPSAkKCcucGFnZXItZGF0YScsIGNvbnRleHQuY29udGVudCk7DQogICAgICAgIGNvbnRleHQucGFnZXIuZW1wdHkoKTsNCiAgICAgICAgaWYgKHBhZ2VyRGF0YS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICB2YXIgcGFnZVNpemUgPSBwYXJzZUludChwYWdlckRhdGEuZGF0YSgncGFnZXNpemUnKSwgMTApOw0KICAgICAgICAgICAgdmFyIHRvdGFsQ291bnQgPSBwYXJzZUludChwYWdlckRhdGEuZGF0YSgndG90YWxpdGVtcycpLCAxMCk7DQogICAgICAgICAgICB2YXIgZGF0ZVN0cmluZyA9IHBhZ2VyRGF0YS5kYXRhKCdkYXRlJyk7DQogICAgICAgICAgICBpZiAoZGF0ZVN0cmluZykgew0KICAgICAgICAgICAgICAgICQoJy5jb250ZW50LWZyYWdtZW50LWhlYWRlcicsIGNvbnRleHQud3JhcHBlcikuaHRtbChjb250ZXh0LmV2ZW50c09uVGV4dC5yZXBsYWNlKC9cezBcfS9nLCBkYXRlU3RyaW5nKSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICQoJy5jb250ZW50LWZyYWdtZW50LWhlYWRlcicsIGNvbnRleHQud3JhcHBlcikuaHRtbChjb250ZXh0LnVwY29taW5nRXZlbnRzVGV4dCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICANCiAgICAgICAgICAgIHZhciBwID0gJCgnPGRpdiBjbGFzcz0icGFnZXIiPjwvZGl2PicpOw0KICAgICAgICAgICAgY29udGV4dC5wYWdlci5hcHBlbmQocCk7DQogICAgICAgICAgICBwLmV2b2x1dGlvblBhZ2VyKHsNCiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMCwNCiAgICAgICAgICAgICAgICBwYWdlU2l6ZTogcGFnZVNpemUsDQogICAgICAgICAgICAgICAgdG90YWxJdGVtczogdG90YWxDb3VudCwNCiAgICAgICAgICAgICAgICBwYWdlS2V5OiBjb250ZXh0LnBhZ2VJbmRleFBhcmFtZXRlciwNCiAgICAgICAgICAgICAgICBvblBhZ2U6IGZ1bmN0aW9uKHBhZ2VJbmRleCwgY29tcGxldGUsIGhhc2gpIHsNCiAgICAgICAgICAgICAgICAgICAgcGFnZShjb250ZXh0LCBwYWdlSW5kZXgsIGNvbXBsZXRlKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHBhZ2VkQ29udGVudENvbnRhaW5lcjogY29udGV4dC5jb250ZW50DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgcGFkID0gZnVuY3Rpb24odiwgbCkgew0KICAgICAgdiA9IHYgKyAnJzsNCiAgICAgIHdoaWxlICh2Lmxlbmd0aCA8IGwpIHsNCiAgICAgICAgICB2ID0gJzAnICsgdjsNCiAgICAgIH0NCiAgICAgIHJldHVybiB2Ow0KICAgIH0sDQogICAgZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7DQogICAgICAgIHJldHVybiAgcGFkKGRhdGUuZ2V0TW9udGgoKSArIDEsIDIpICsgJy8nICsgcGFkKGRhdGUuZ2V0RGF0ZSgpLCAyKSArICcvJyArIHBhZChkYXRlLmdldEZ1bGxZZWFyKCksIDQpICsgJyAwMDowMDowMCc7DQogICAgfSwNCiAgICBwYXJzZURhdGUgPSBmdW5jdGlvbihzRGF0ZSkgew0KICAgICAgICB2YXIgY29tcG9uZW50cyA9IHNEYXRlLnNwbGl0KCcgJylbMF0uc3BsaXQoJy8nKTsNCiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHBhcnNlSW50KGNvbXBvbmVudHNbMl0sIDEwKSwgcGFyc2VJbnQoY29tcG9uZW50c1swXSwgMTApIC0gMSwgcGFyc2VJbnQoY29tcG9uZW50c1sxXSwgMTApKTsNCiAgICB9LA0KICAgIHBhZ2UgPSBmdW5jdGlvbihjb250ZXh0LCBwYWdlSW5kZXgsIHN1Y2Nlc3MpIHsNCiAgICAgICAgdmFyIGRhdGEgPSB7DQogICAgICAgICAgICB3X21vbnRoOiBjb250ZXh0Lm1vbnRoLA0KICAgICAgICAgICAgd195ZWFyOiBjb250ZXh0LnllYXIsDQogICAgICAgICAgICB3X2RhdGU6IGNvbnRleHQuY2FsZW5kYXJEYXRlID09IG51bGwgPyAnJyA6IGZvcm1hdERhdGUoY29udGV4dC5jYWxlbmRhckRhdGUpDQogICAgICAgIH07DQogICAgICAgIA0KICAgICAgICBkYXRhW2NvbnRleHQucGFnZUluZGV4UGFyYW1ldGVyXSA9IHBhZ2VJbmRleDsNCiAgICAgICAgDQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KICAgICAgICAgICAgdXJsOiBjb250ZXh0LmxvYWRpbmdVcmwsDQogICAgICAgICAgICBkYXRhOiBkYXRhLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgc3VjY2VzcyhyZXNwb25zZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgbG9hZCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7DQogICAgICAgIHZhciBkYXRhID0gew0KICAgICAgICAgICAgd19tb250aDogY29udGV4dC5tb250aCwNCiAgICAgICAgICAgIHdfeWVhcjogY29udGV4dC55ZWFyLA0KICAgICAgICAgICAgd19kYXRlOiBjb250ZXh0LmNhbGVuZGFyRGF0ZSA9PSBudWxsID8gJycgOiBmb3JtYXREYXRlKGNvbnRleHQuY2FsZW5kYXJEYXRlKQ0KICAgICAgICB9Ow0KICAgICAgICANCiAgICAgICAgZGF0YVtjb250ZXh0LnBhZ2VJbmRleFBhcmFtZXRlcl0gPSAxOw0KICAgICAgICB2YXIgZCA9IHt9Ow0KICAgICAgICBkW2NvbnRleHQucGFnZUluZGV4UGFyYW1ldGVyXSA9IDE7DQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi51cmwuaGFzaERhdGEoZCk7DQogICAgICAgIA0KICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCiAgICAgICAgICAgIHVybDogY29udGV4dC5sb2FkaW5nVXJsLA0KICAgICAgICAgICAgZGF0YTogZGF0YSwNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgew0KICAgICAgICAgICAgICAgIHNldENvbnRlbnQoY29udGV4dCwgcmVzcG9uc2UsIHRydWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9Ow0KDQogICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLkNhbGVuZGFyLndpZGdldHMuZXZlbnRMaXN0ID0gew0KICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24gKGNvbnRleHQpIHsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgJChnbG9iYWwpLm9uKCdoYXNoY2hhbmdlJywgZnVuY3Rpb24oZCkgew0KICAgICAgICAgICAgICAgdmFyIGhhc2ggPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24udXJsLmhhc2hEYXRhKCk7DQogICAgICAgICAgICAgICBpZiAoaGFzaCkgew0KICAgICAgICAgICAgICAgICAgIGlmIChoYXNoWydjdXJyZW50RGF0ZSddKSB7DQogICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRlID0gcGFyc2VEYXRlKGhhc2hbJ2N1cnJlbnREYXRlJ10pOw0KICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRleHQuY2FsZW5kYXJEYXRlIHx8IG5ld0RhdGUuZ2V0VGltZSgpICE9IGNvbnRleHQuY2FsZW5kYXJEYXRlLmdldFRpbWUoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jYWxlbmRhckRhdGUgPSBuZXdEYXRlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC55ZWFyID0gbmV3RGF0ZS5nZXRGdWxsWWVhcigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tb250aCA9IG5ld0RhdGUuZ2V0TW9udGgoKSArIDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBhZ2VJbmRleCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzaFsnY3VycmVudFllYXInXSAmJiBoYXNoWydjdXJyZW50TW9udGgnXSkgew0KICAgICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IHBhcnNlSW50KGhhc2hbJ2N1cnJlbnRZZWFyJ10sIDEwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gcGFyc2VJbnQoaGFzaFsnY3VycmVudE1vbnRoJ10sIDEwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgaWYgKHllYXIgIT0gY29udGV4dC55ZWFyIHx8IG1vbnRoICE9IGNvbnRleHQubW9udGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQueWVhciA9IHllYXI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1vbnRoID0gbW9udGg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNhbGVuZGFyRGF0ZSA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBhZ2VJbmRleCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQuY2FsZW5kYXJEYXRlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNhbGVuZGFyRGF0ZSA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBhZ2VJbmRleCA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHZhciBxID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5wYXJzZVF1ZXJ5KGdsb2JhbC5sb2NhdGlvbi5ocmVmKTsNCiAgICAgICAgICAgIHZhciBoID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5oYXNoRGF0YSgpOw0KICAgICAgICAgICAgaWYgKGhbJ2N1cnJlbnREYXRlJ10pIHsNCiAgICAgICAgICAgICAgICBjb250ZXh0LmNhbGVuZGFyRGF0ZSA9IHBhcnNlRGF0ZShoWydjdXJyZW50RGF0ZSddKTsNCiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vbnRoID0gY29udGV4dC5jYWxlbmRhckRhdGUuZ2V0TW9udGgoKSArIDE7DQogICAgICAgICAgICAgICAgY29udGV4dC55ZWFyID0gY29udGV4dC5jYWxlbmRhckRhdGUuZ2V0RnVsbFllYXIoKTsNCiAgICAgICAgICAgICAgICBsb2FkKGNvbnRleHQpOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChxWydjdXJyZW50RGF0ZSddKSB7DQogICAgICAgICAgICAgICAgY29udGV4dC5jYWxlbmRhckRhdGUgPSBwYXJzZURhdGUocVsnY3VycmVudERhdGUnXSk7DQogICAgICAgICAgICAgICAgY29udGV4dC5tb250aCA9IGNvbnRleHQuY2FsZW5kYXJEYXRlLmdldE1vbnRoKCkgKyAxOw0KICAgICAgICAgICAgICAgIGNvbnRleHQueWVhciA9IGNvbnRleHQuY2FsZW5kYXJEYXRlLmdldEZ1bGxZZWFyKCk7DQogICAgICAgICAgICAgICAgbG9hZChjb250ZXh0KTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoaFsnY3VycmVudFllYXInXSAmJiBoWydjdXJyZW50TW9udGgnXSkgew0KICAgICAgICAgICAgICAgIGNvbnRleHQubW9udGggPSBwYXJzZUludChoWydjdXJyZW50TW9udGgnXSwgMTApOw0KICAgICAgICAgICAgICAgIGNvbnRleHQueWVhciA9IHBhcnNlSW50KGhbJ2N1cnJlbnRZZWFyJ10sIDEwKTsNCiAgICAgICAgICAgICAgICBsb2FkKGNvbnRleHQpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBsb2FkKGNvbnRleHQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfTsNCg0KfSkoalF1ZXJ5LCB3aW5kb3cpOw0K</file>
		</files>
	</scriptedContentFragment>
</scriptedContentFragments>